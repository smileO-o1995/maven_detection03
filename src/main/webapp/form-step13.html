<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>木马检测版面修改1</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="lib/layui-v2.5.4/css/layui.css" media="all">
    <link rel="stylesheet" href="css/public.css" media="all">
    <link rel="stylesheet" href="lib/lay-module/step-lay/step.css" media="all">
    <!-- 引用控制层插件样式 -->
    <link rel="stylesheet" href="css/zyUpload.css" type="text/css">
    <link rel="stylesheet" href="lib/font-awesome-4.7.0/css/font-awesome.min.css" media="all">

    <style>
        .layui-card {border:1px solid #f2f2f2;border-radius:5px;}
        .icon {margin-right:10px;color:#1aa094;}
        .icon-green {color:#52C41A;!important;}
        .layuimini-qiuck-module {text-align:center;margin-top: 10px}
        .layuimini-qiuck-module a i {display:inline-block;width:100%;height:60px;line-height:60px;text-align:center;border-radius:2px;font-size:30px;background-color:#F8F8F8;color:#333;transition:all .3s;-webkit-transition:all .3s;}
        .layuimini-qiuck-module a cite {position:relative;top:2px;display:block;color:#666;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;font-size:14px;}
        .welcome-module {width:100%;height:210px;}
        .panel {background-color:#fff;border:1px solid transparent;border-radius:3px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05);box-shadow:0 1px 1px rgba(0,0,0,.05)}
        .panel-body {padding:10px}
        .panel-title {margin-top:0;margin-bottom:0;font-size:12px;color:inherit}
        .label {display:inline;padding:.2em .6em .3em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em;margin-top: .3em;}
        .layui-red {color:red}
        .main_btn > p {height:40px;}
        .layui-bg-number {background-color:#F8F8F8;}
        .mytitle {line-height:28px;font-size:14px;padding-left: 150px; padding-top: 10px;}
        .mycontent {line-height:28px;font-size:13px;padding-left: 170px;}
        .mychartStyle {padding-left: 170px;}
        .mytableText {text-align: center;}
    </style>
</head>
<body>
<div class="layuimini-container">
    <div class="layuimini-main">
        <div class="layui-row layui-col-space15">
            <div class="layui-col-md12" id="mode1">
                <div class="layui-card">
                    <div class="layui-card-header"><i class="fa fa-cogs icon">步骤条检测</i></div>
                    <div class="layui-card-body" style="padding-top: 40px;">
                        <!--轮播组件carousel 以及步骤条step-->
                        <div class="layui-carousel" id="stepForm" lay-filter="stepForm" style="margin: 0 auto;">
                            <div carousel-item>
                                <!--step1:选择网表-->
                                <div> <!--div中存放的是任意内容，可以是图片-->
                                    <div style="text-align: center;margin-top: 15px;">
                                        <h4>关于选择元件库的说明</h4>
                                        <div id="myupload" class="demo"></div>
                                        <br>
                                        <div style="padding-bottom: 10px">
                                            <button type="button" class="layui-btn layui-btn-primary reChoose">重新选择</button>
                                            <button class="layui-btn" lay-submit lay-filter="formStep1">
                                                下一步
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!--step1.2格式化网表-->
                                <div>
                                    <div style="text-align: center;margin-top: 90px;">
                                        <i class="layui-icon layui-circle"
                                           style="color: white;font-size:30px;font-weight:bold;background: #5FB878;padding: 20px;line-height: 80px;">&#xe639;</i>
                                        <p class="noteStep1_2" style="display: none;"></p>
                                    </div>
                                    <div style="text-align: center;margin-top: 50px;">
                                        <button type="button" class="layui-btn layui-btn-primary pre1_2">上一步</button>
                                        <button class="layui-btn step1_2CommitBtn">
                                            格式化网表
                                        </button>
                                        <button class="layui-btn" lay-submit lay-filter="formStep1_2">
                                            下一步
                                        </button>
                                    </div>
                                </div>

                                <!--step2:特征提取-->
                                <div>
                                    <form class="layui-form" id="myStep2Form" style="margin: 0 auto;max-width: 460px;padding-top: 40px;">
                                        <div class="layui-form-item">
                                            <label class="layui-form-label">特征选择：</label>
                                            <div class="layui-input-block">
                                                <input type="checkbox" name="characterName" value="CC0" title="可控性值CC0">
                                                <input type="checkbox" name="characterName" value="CO" title="可观测性值CO">
                                                <input type="checkbox" name="characterName" value="CC1" title="可控性值CC1">
                                                <input type="checkbox" name="characterName" value="dis" title="不可用属性" disabled>
                                            </div>
                                        </div>
                                        <div class="layui-form-item">
                                            <label class="layui-form-label">备注说明：</label>
                                            <div class="layui-input-block">
                                                <textarea placeholder="备注信息" value="" class="layui-textarea"></textarea>
                                            </div>
                                        </div>
                                    </form>
                                    <div style="text-align: center;">
                                        <button type="button" class="layui-btn layui-btn-primary pre">上一步</button>
                                        <button class="layui-btn step2CommitBtn">提交特征向量集</button>
                                        <button class="layui-btn" lay-submit lay-filter="formStep2">
                                            下一步
                                        </button>
                                    </div>
                                </div>

                                <!--step3:木马检测-->
                                <div>
                                    <form class="layui-form" id="myStep3Form" style="margin: 0 auto;max-width: 460px;padding-top: 40px;">
                                        <div class="layui-form-item">
                                            <label class="layui-form-label">检测方法：</label>
                                            <div class="layui-input-block">
                                                <input type="radio" name="dctMethod" value="kmeans" title="k-means聚类" checked>
                                                <input type="radio" name="dctMethod" value="dbscan" title="DBSCAN">
                                                <!--<input type="radio" name="dctMethid" value="some" title="其他" disabled>-->
                                            </div>
                                        </div>
                                        <div class="layui-form-item">
                                            <label class="layui-form-label">备注说明：</label>
                                            <div class="layui-input-block">
                                                <textarea placeholder="备注信息" value="" class="layui-textarea"></textarea>
                                            </div>
                                        </div>
                                    </form>
                                    <p class="noteStep3" style="display: none;">pass</p>
                                    <div style="text-align: center;">
                                        <button type="button" class="layui-btn layui-btn-primary pre2">上一步</button>
                                        <button class="layui-btn step3CommitBtn">提交检测方式</button>
                                        <button class="layui-btn" lay-submit lay-filter="formStep3">
                                            下一步
                                        </button>
                                    </div>
                                </div>

                                <!--step4:木马定位-->
                                <div>
                                    <div style="text-align: center;margin-top: 90px;">
                                        <i class="layui-icon layui-circle"
                                           style="color: white;font-size:30px;font-weight:bold;background: #5FB878;padding: 20px;line-height: 80px;">&#xe635;</i>
                                        <p class="noteStep4" style="display: none;">cannot</p>
                                    </div>
                                    <div style="text-align: center;margin-top: 50px;">
                                        <button type="button" class="layui-btn layui-btn-primary pre3">上一步</button>
                                        <button class="layui-btn step4CommitBtn">开始定位</button>
                                        <button class="layui-btn reComform">
                                            再试一次
                                        </button>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="layui-col-md12" id="mode2" style="display: none"><!--style="display: none"-->
                <div class="layui-card">
                    <div class="layui-card-header"><i class="fa fa-cogs icon">一站式检测</i></div>
                    <div class="layui-card-body">
                        <!--step1：上传文件-->
                        <div  style="text-align: center;">
                            <div class="layui-upload-drag" id="upFile" >
                                <i class="layui-icon"></i>
                                <p>点击上传网表文件，或将文件拖拽到此处</p>
                            </div>
                        </div>
                        <p class="uploadNote" style="text-align: center"></p>

                        <!--<div style="align-content: center">-->
                            <!--<button type="button" class="layui-btn" id="upFile">-->
                                <!--<i class="layui-icon">&#xe67c;</i>上传文件-->
                            <!--</button>-->
                        <!--</div>-->

                        <!--step2：一站式检测-->
                        <form class="layui-form" id="OneStepForm" style="margin: 0 auto;max-width: 460px; margin-top: 15px;">
                            <div class="layui-form-item">
                                <label class="layui-form-label" style="font-size:14px;">特征选择：</label>
                                <div class="layui-input-block">
                                    <input type="checkbox" name="characterName" value="CC0" title="可控性值CC0" checked>
                                    <input type="checkbox" name="characterName" value="CO" title="可观测性值CO" checked>
                                    <input type="checkbox" name="characterName" value="CC1" title="可控性值CC1" checked>
                                    <input type="checkbox" name="characterName" value="dis" title="不可用属性" disabled>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label class="layui-form-label" style="font-size:14px;">检测方法：</label>
                                <div class="layui-input-block">
                                    <input type="radio" name="dctMethod" value="kmeans" title="k-means聚类" checked>
                                    <input type="radio" name="dctMethod" value="dbscan" title="DBSCAN">
                                    <!--<input type="radio" name="dctMethid" value="some" title="其他" disabled>-->
                                </div>
                            </div>
                        </form>

                        <div  style="text-align: center;">
                            <button class="layui-btn" lay-submit id="OneStepCommitBtn">
                                &emsp;开始检测&emsp;
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="layui-col-md12 rstCardJs" style="display: none">
                <div class="layui-card">
                    <div class="layui-card-header"><i class="fa fa-line-chart icon">测试数据</i></div>
                    <div class="layui-card-body">

                        <div id="myStep5" style="display: none; align-content: left">
                            <div class="layui-btn-group">
                                <!--<button class="layui-btn refreshBtn1" type="button">重新开始步骤条检测</button>-->
                                <!--<button class="layui-btn refreshBtn2" type="button">重新开始一站式检测</button>-->
                                <button class="layui-btn refreshBtn" type="button">重新开始检测</button>
                                <button class="layui-btn saveRst" type="button">保存数据</button>
                                <button class="layui-btn countRst" type="button">查看统计数据</button>
                            </div>
                        </div>

                        <div class="layui-text"  id="exportTable">
                            <table class="layui-table myTable">
                                <colgroup>
                                    <col width="10%">
                                    <col width="40%">
                                    <col width="10%">
                                    <col width="40%">
                                </colgroup>
                                <tbody>
                                <!--step1-->
                                <tr>
                                    <td class="mytableText">网表名称</td>
                                    <td class="netTitleJs" colspan="3"></td>
                                </tr>
                                <tr>
                                    <td colspan="2" class="mytableText">网表信息</td>
                                    <td colspan="2" class="mytableText">检测信息</td>
                                </tr>

                                <!--step1_2-->
                                <tr class="trStep1_2" style="display: none;">
                                    <td class="mytableText">网表类别</td>
                                    <td class="netType"></td>

                                    <td class="mytableText"><div class="trStep3_1" style="display: none;">判定类别</div></td>
                                    <td class="tdStep3_1"></td>
                                </tr>

                                <!--step1_2_1当有木马的时候需要执行下面这一个部分-->
                                <tr class="trStep1_2_1" style="display:none;">
                                    <td class="mytableText">触发节点</td>
                                    <td><p class="tdStep1_2_1"></p></td>

                                    <td class="mytableText"><div class="trStep3_2" style="display: none;">木马节点</div></td>
                                    <td class="tdStep3_2"></td>
                                </tr>

                                <tr class="trStep1_2_2" style="display: none;">
                                    <td class="mytableText">有效载荷节点</td>
                                    <td><p class="tdStep1_2_2"></p></td>
                                    <td class="mytableText"></td>
                                    <td></td>
                                </tr>

                                <!--step2-->
                                <tr class="trStep2" style="display: none;">
                                    <td class="mytableText">特征值分布图</td>
                                    <td><div id="echarts-feature" style="width:350px;height:350px;"></div></td>

                                    <td class="mytableText"><div class="trStep3" style="display: none;">检测结果图</div></td>
                                    <td><div id="echarts-detect" style="width:350px;height:350px;"></div></td>
                                </tr>

                                <!--下面为当网表为木马网表时才会显示-->

                                <tr class="trStep3_3" style="display: none;">
                                    <td class="mytableText">木马触发点识别率</td>
                                    <td class="tdStep3_3" colspan="3"></td>
                                </tr>
                                <tr class="trStep3_4" style="display: none;">
                                    <td class="mytableText">木马虚警率</td>
                                    <td class="tdStep3_4" colspan="3"></td>
                                </tr>

                                <!--step4-->
                                <tr class="trStep4_1" style="display: none;">
                                    <td class="mytableText">木马触发电路</td>
                                    <td class="tdStep4_1" colspan="3"></td>
                                </tr>
                                <tr class="trStep4_2" style="display: none;">
                                    <td class="mytableText">木马感染电路</td>
                                    <td class="tdStep4_2" colspan="3"></td>
                                </tr>
                            </table>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<!--http://113.54.153.51:8889/maven_detection03/index.html#form-step8.html-->
<script src="lib/layui-v2.5.4/layui.js" charset="utf-8"></script>
<script src="js/lay-config.js?v=1.0.4" charset="utf-8"></script>
<!--图片弹出层样式 必要样式-->
<script src="lib/jquery-1.7.2.js" charset="UTF-8"></script>
<!-- 引用核心层插件 -->
<script type="text/javascript" src="js/myJs/zyFile.js"></script>
<!-- 引用控制层插件 -->
<script type="text/javascript" src="js/myJs/zyUpload.js"></script>
<!-- 引用初始化JS -->
<script type="text/javascript" src="js/myJs/demo.js"></script>
<!--文件上传myUpload.js-->
<script type="text/javascript" src="js/myJs2/myUpload.js"></script>
<!--step1.js-->
<script type="text/javascript" src="js/myJs2/restep1.js"></script>
<!--step1_2.js-->
<script type="text/javascript" src="js/myJs2/restep1_2.js"></script>
<!--step2.js-->
<script type="text/javascript" src="js/myJs2/restep2.js"></script>
<!--step3.js-->
<script type="text/javascript" src="js/myJs2/restep3.js"></script>
<!--step4.js-->
<script type="text/javascript" src="js/myJs2/restep4.js"></script>
<!--导出pdf-->
<script type="text/javascript" src="js/pdfjs/jsPdf.debug.js"></script>
<script type="text/javascript" src="js/pdfjs/html2canvas.js"></script>
<script type="text/javascript" src="js/myJs/pdfExport.js"></script>

<!--一站式检测的“开始检测”事件-->
<script type="text/javascript" src="js/myJs2/oneStep2.js"></script>

<script type="text/javascript">
    layui.use([ 'form', 'step', 'layer'], function () {
        var $ = layui.$,
            form = layui.form,
            step = layui.step,
            layer = layui.layer;

        //步骤条
        step.render({
            elem: '#stepForm',
            filter: 'stepForm',
            width: '100%', //设置容器宽度
            stepWidth: '750px',
            height: '400px',
            stepItems: [{
                title: '选择网表'
            }, {
                title: '格式化网表'
            }, {
                title: '特征提取'
            }, {
                title: '木马检测'
            }, {
                title: '木马还原'
            }]
        });

        $('.pre').click(function () {
            step.pre('#stepForm');
        });
        $('.pre1_2').click(function () {
            step.pre('#stepForm');
        });
        $('.pre2').click(function () {
            step.pre('#stepForm');
        });
        $('.pre3').click(function () {
            step.pre('#stepForm');
        });

        $('.next').click(function () {
            step.next('#stepForm');
        });

        // //1、点击“重新开始步骤条检测”
        // $(".refreshBtn1").click(function () {
        //     location.reload();
        // });
        //
        // //2、点击“重新开始一站式检测”
        // $(".refreshBtn2").click(function () {
        //     $("#mode1").hide();
        //     $("#mode2").show();
        //     $(".rstCardJs").hide();
        // });

        //3、点击“查看数据”
        $(".countRst").click(function () {
            layer.open({
                type: 2,
                title: false,
                area: ['700px', '450px'],
                shade: 0.8,
                closeBtn: 0,
                shadeClose: true,
                content: 'table.html'
            });
            // location.href("table.html");
        });

        //1、页面刷新
        $(".refreshBtn").click(function () {
            location.reload();
        });

        $(function () {
            var fileName = $(".netTitleJs").html();
            console.info(fileName);
            var index = layer.confirm('请选择一站式检测方式或步骤条检测方式', {
                btn: ['一站式检测方式','步骤条检测方式'] //按钮
            }, function(){
                var fileName = $(".netTitleJs").html();
                console.info(fileName);
                $("#mode1").hide();
                $("#mode2").show();
                layer.close(index);
            }, function(){
                var fileName = $(".netTitleJs").html();
                console.info(fileName);
                layer.close(index);
            });

        });

    });
</script>
</body>
</html>